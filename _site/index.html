<html manifest="manifest.appcache">
  <head>
    <link href="./styles/action_menu.css" rel="stylesheet" type="text/css"/>
    <link href="./styles/headers.css" rel="stylesheet" type="text/css">
    <link href="./styles/buttons.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <section role="region">
  <header>
    <button id="go-back">
      <span class="icon icon-back">back</span>
    </button>
    <h1>Firefox OS Demos</h1>
  </header>
</section>

<script type="text/javascript">
  var back = document.getElementById("go-back");

  back.addEventListener("click", function(){
    window.history.back();
  }, false);

</script>
    <ul>
  <li>
    <button type="button" onclick="window.location.href='vibration.html'">Vibrate</button>
  </li>
  <li>
    <button type="button" onclick="window.location.href='picture.html'">Picture</button>
  </li>
  <li>
    <button type="button" onclick="window.location.href='about.html'">About</button>
  </li>
  <span id="install"></span>
</menu>
</form>
<script type="text/javascript">
window.onload = function(){
  if (navigator.mozApps){
    html = "<button type=\"button\" id=\"mozilla_app\">Install</button>"
    document.getElementById("install").innerHTML = html

    var app = document.getElementById("mozilla_app");
    app.addEventListener('click', function(){
      var manifestURL = location.href.substring(0, location.href.lastIndexOf("/")) + "/manifest.webapp";
      var installApp = navigator.mozApps.install(manifestURL);

      installApp.onsuccess = function() {
        alert("App installed");
      };
      installApp.onerror = function() {
        alert(this.error.name);
      };
    });
  }
};

</script>
  </body>
</html>